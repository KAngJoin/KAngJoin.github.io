<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="{{ site.baseurl }}/">{{ site.title }}</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="{{ site.baseurl }}/">Home</a>
                    </li>
                    {% for page in site.pages %}{% if page.title %}
                    <li>
                        <a href="{{ page.url | prepend: site.baseurl }}">{{ page.title }}</a>
                    </li>
                    {% endif %}{% endfor %}
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<div id="dk-back-top">
<svg t="1587050926537" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4548" width="48" height="48"><path d="M685.166879 501.564331c-9.13121-11.087898-12.392357-21.523567-11.740127-35.220382 0.652229-27.393631 0.652229-54.135032-2.608917-81.528662-13.044586-106.965605-56.743949-200.234395-131.098089-278.501911-16.305732-17.610191-21.523567-17.610191-37.829299 0-95.877707 103.052229-140.229299 224.366879-133.054777 365.248408 0.652229 7.174522 1.304459 14.349045-5.217834 20.871338-33.263694 37.17707-49.569427 81.528662-50.221656 132.402548-0.652229 54.787261 16.957962 101.747771 54.135032 142.185987 6.522293 7.174522 13.696815 10.435669 22.828025 6.522293 9.783439-3.913376 9.783439-11.740127 9.13121-20.219108-0.652229-3.261146-0.652229-6.522293-1.304459-9.783439-5.870064-28.04586 0-54.787261 13.044586-80.224204 3.913376-7.826752 7.826752-11.087898 17.610191-10.435669 30.654777 0.652229 61.961783 0.652229 92.616561 0.652229s61.961783 0.652229 92.616561 0c7.826752 0 11.740127 2.608917 15.001274 9.13121 15.653503 28.04586 18.26242 57.396178 13.044586 88.050955-1.956688 9.783439-2.608917 18.91465 7.826752 24.132484 10.435669 4.565605 18.26242-0.652229 25.436943-8.478981C742.563057 694.624204 747.128662 577.22293 685.166879 501.564331zM499.933758 161.752866c20.219108-25.436943 20.871338-25.436943 41.742675 1.304459 18.91465 24.784713 36.524841 50.221656 50.873885 80.224204-48.264968 0-94.573248 0-142.838217 0C462.104459 211.974522 480.366879 186.53758 499.933758 161.752866zM396.881529 621.574522c-16.957962 20.871338-27.393631 45.003822-33.915924 73.701911-23.480255-56.09172-17.610191-106.965605 13.044586-159.143949 8.478981 28.04586 15.653503 53.482803 22.828025 78.919745C398.838217 617.008917 398.185987 619.617834 396.881529 621.574522zM607.551592 609.834395c-2.608917 6.522293-5.870064 9.13121-13.044586 9.13121-48.917197-0.652229-97.834395 0-146.751592 0-7.174522 0-10.435669-2.608917-13.044586-9.13121-24.784713-62.614013-37.17707-127.184713-32.611465-195.016561 3.261146-41.742675 13.044586-82.180892 25.436943-121.966879 3.913376-11.740127 9.13121-16.305732 21.523567-15.653503 24.132484 1.304459 47.612739 0 71.745223 0 25.436943 0 50.873885 0 76.310828 0 8.478981 0 12.392357 2.608917 15.653503 11.087898C651.903185 395.903185 650.598726 503.521019 607.551592 609.834395zM646.68535 623.53121c-3.913376-5.217834-1.956688-9.783439-0.652229-15.001274 7.174522-22.175796 15.001274-45.003822 20.219108-68.484076 30.654777 48.264968 35.220382 98.486624 12.392357 156.535032C672.774522 666.578344 662.338854 643.750318 646.68535 623.53121z" p-id="4549" fill="#ce6d39"></path><path d="M454.929936 799.633121 454.929936 799.633121c-9.13121 0-16.957962-7.826752-16.957962-16.957962l0-85.442038c0-9.13121 7.826752-16.957962 16.957962-16.957962l0 0c9.13121 0 16.957962 7.826752 16.957962 16.957962L471.887898 782.675159C471.887898 791.806369 464.061146 799.633121 454.929936 799.633121z" p-id="4550" fill="#ce6d39"></path><path d="M521.457325 891.597452 521.457325 891.597452c-9.13121 0-16.957962-7.826752-16.957962-16.957962l0-178.058599c0-9.13121 7.826752-16.957962 16.957962-16.957962l0 0c9.13121 0 16.957962 7.826752 16.957962 16.957962l0 178.058599C537.763057 884.42293 530.588535 891.597452 521.457325 891.597452z" p-id="4551" fill="#ce6d39"></path><path d="M587.332484 799.633121 587.332484 799.633121c-9.13121 0-16.957962-7.826752-16.957962-16.957962l0-85.442038c0-9.13121 7.826752-16.957962 16.957962-16.957962l0 0c9.13121 0 16.957962 7.826752 16.957962 16.957962L604.290446 782.675159C604.290446 791.806369 596.463694 799.633121 587.332484 799.633121z" p-id="4552" fill="#ce6d39"></path></svg></div>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    var __HuxNav__ = {
        close: function () {
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function () {
                // prevent frequently toggle
                if ($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            }, 400)
        },
        open: function () {
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }

    // Bind Event
    $toggle.addEventListener('click', function (e) {
        if ($navbar.className.indexOf('in') > 0) {
            __HuxNav__.close()
        } else {
            __HuxNav__.open()
        }
    })

    /**
     * Since Fastclick is used to delegate 'touchstart' globally
     * to hack 300ms delay in iOS by performing a fake 'click',
     * Using 'e.stopPropagation' to stop 'touchstart' event from 
     * $toggle/$collapse will break global delegation.
     * 
     * Instead, we use a 'e.target' filter to prevent handler
     * added to document close HuxNav.  
     *
     * Also, we use 'click' instead of 'touchstart' as compromise
     */
    document.addEventListener('click', function (e) {
        if (e.target == $toggle) return;
        if (e.target.className == 'icon-bar') return;
        __HuxNav__.close();
    })
    // backtop
    var topEle = document.getElementById('dk-back-top');
    function throttle(fn, delay) {
        let timer, context, args,
            // 记录上次触发的时间
            previous = 0;
        return function () {
            let now = +new Date(),
                //下次触发fn剩余的时间
                remaining = delay - (now - previous);
            context = this;
            args = arguments;
            // 无剩余时间，或系统时间改变(人为)
            if (remaining <= 0 || remaining > delay) {
                // 首次触发会立即执行本部分
                if (timer) {
                    clearTimeout(timer)
                    timer = null;
                }
                previous = now;
                fn.apply(context, args)
            } else if (!timer) {
                // 设置定时器
                timer = setTimeout(() => {
                    fn.apply(context, args)
                    previous = +new Date();
                    timer = null;
                }, remaining);
            }
        }
    }
    function scrollToTop() {
        window.scrollTo(0, 0);
    }
    function backTop() {
        var scrolltopTemp = document.documentElement.scrollTop || document.body.scrollTop;
        if (topEle && scrolltopTemp < 500) {
            if (topEle.style.visibility == 'hidden') return
            topEle.style.visibility = 'hidden';
            topEle.removeEventListener('click', scrollToTop, false)
        } else {
            if (topEle && topEle.style.visibility == 'visible') return
            topEle.style.visibility = 'visible';
            topEle.addEventListener('click', scrollToTop, false)
        }
    }
    window.addEventListener('scroll', throttle(backTop, 300), false)

</script>